<!DOCTYPE html>
<html>
<head>
</head>
<body>

  <script>

  var str = "[FINAL].[PROJECT].[PROJNO] = [DEPARTMENT].[DEPTNO] AND [FINAL].[PROJECT].[PROJNAME] = [DEPARTMENT].[DEPTNAME] AND [FINAL].[PROJECT].[DEPTNO] = [DEPARTMENT].[MGRNO] AND [FINAL].[PROJECT].[RESPEMP] = [DEPARTMENT].[ADMRDEPT]";

  var pktable = "DEPARTMENTRR";

  var exp = "\\s{1,}=\\s{1,}\\[(.*?)\\]\.\\[(.*?)\\]";

  var regexp = new RegExp(exp, "gi");

  var match;
  var matches = [];

  while(match = regexp.exec(str)){
    matches.push(match[1]);
  };

  console.log(matches[0]);

  </script>

</body>
</html>
